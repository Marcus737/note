# 什么是循环依赖？
A依赖B，B依赖A。
spring中bean对象的创建都要经历实例化和初始化的过程，实例化是半成品和初始化是成品，成品和半成品在存储时需要分不同的缓存来进行存储
# 只有一级缓存行不行？
不行，半成品和成品放到同一个缓存中，而半成品是无法给外部使用的。
# 只有二级缓存行不行？
如果不涉及aop，二级缓存足以解决循环依赖的问题，如果aop存在了循环依赖。那么要使用3级缓存才能解决
# 为什么需要三级缓存？
三级缓存的value类型是ObjectFactory，是一个函数式接口，不是直接进行调用，
只有在getObject方法的时候才会去调用里面的lambda表达式，存在的意义是保证在整个容器的运行过程中同名bean对象只能有一个

# 综述
循环依赖是初始化时多个实例之间互相依赖的问题。一级缓存放成品对象（可以给外部程序使用），二级缓存存放的半成品对象（比如只是实例化，没有对其属性赋值）。当需要一个对象时，先去一级缓存找，找不到再去二级缓存找，若还没找到，意味着目标对象没有实例化，实例化后放入二级缓存。等待下一次轮询来赋值。若不需要aop，则二级缓存够了。三级缓存用来存储代理bean，当需要bean对象时，发现目标bean需要通过代理工程来创建，创建好的实例保存到三级缓存中，最后也会将赋值好的bean放到一级缓存