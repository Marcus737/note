# 需要的原因
一个业务可能要多个应用来处理。例如下单，订单系统创建订单，系统减去库存。者两个操作应该是原子性的。
必须要分布式事务控制
# 解决方案
## 本地信息表
创建订单时，将减库存信息放入本地事务，一起提交到数据库存入本地信息表。然后调用库存系统，若调用成功则修改本地信息表的状态为成功，
否则由后台定时任务从本地消息表里取出未成功的事务再次执行

## 消息队列
Rocketmq支持事务消息
1. 生产者系统发送half消息到broker
2. 再创建订单，没异常就commit否则rollback
3. broker调用接口查询订单是否创建成功
4. commit后，消费者来消费，若消费成功消息销毁；
5. 否则根据策略进行重试，最后失败进入死信队列，等待处理

## Seata
eata 是一款开源的分布式事务解决方案，致力于在微服务架构下提供高性能和简单易用的分布式事务服务
