```text
维护了一个信号量state和双向链表队列。队列是存放线程的，
state=0表示无锁，每加一次锁state就加1，释放就减1
```