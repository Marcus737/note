# 为什么要使用锁
控制共享资源。单体情况下可以用sync或lock实现
# 为什么要使用分布式锁
在分布式情况下。sync或lock就不适用了。要用其他方式来控制共享资源
# 解决方案
## redis
利用redis的setnx， lua脚本和消费订阅等机制来实现的。特点是高可用。
因为redis保证的是AP，可能不可靠，一旦redis出现数据不一致，可能会出现多个客户端同时拿到锁的情况
## zookeeper
利用临时节点，顺序节点，watch来实现的。
特点是高一致性，因为zookeeper保证的是CP，由它实现的分布式锁更可靠
